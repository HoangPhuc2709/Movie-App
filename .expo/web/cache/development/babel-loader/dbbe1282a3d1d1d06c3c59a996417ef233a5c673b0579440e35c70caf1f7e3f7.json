{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { image185 } from \"../api/moviedb\";\nimport { Bars3CenterLeftIcon, XMarkIcon } from \"react-native-heroicons/outline\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function FavoriteScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    favorites = _useState2[0],\n    setFavorites = _useState2[1];\n  var navigation = useNavigation();\n  useEffect(function () {\n    var loadFavorites = function () {\n      var _ref = _asyncToGenerator(function* () {\n        var fav = yield AsyncStorage.getItem(\"favorites\");\n        if (fav) setFavorites(JSON.parse(fav));\n      });\n      return function loadFavorites() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var unsubscribe = navigation.addListener(\"focus\", loadFavorites);\n    return unsubscribe;\n  }, [navigation]);\n  var removeFavorite = function () {\n    var _ref2 = _asyncToGenerator(function* (movieId) {\n      Alert.alert(\"Xác nhận\", \"Bạn có chắc muốn bỏ phim này khỏi danh sách yêu thích?\", [{\n        text: \"Hủy\",\n        style: \"cancel\"\n      }, {\n        text: \"Đồng ý\",\n        onPress: function () {\n          var _onPress = _asyncToGenerator(function* () {\n            var updatedFavorites = favorites.filter(function (item) {\n              return item.id !== movieId;\n            });\n            yield AsyncStorage.setItem(\"favorites\", JSON.stringify(updatedFavorites));\n            setFavorites(updatedFavorites);\n          });\n          function onPress() {\n            return _onPress.apply(this, arguments);\n          }\n          return onPress;\n        }(),\n        style: \"destructive\"\n      }]);\n    });\n    return function removeFavorite(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.openDrawer();\n        },\n        children: _jsx(Bars3CenterLeftIcon, {\n          size: 30,\n          strokeWidth: 2,\n          color: \"white\"\n        })\n      }), _jsx(Text, {\n        style: styles.title,\n        children: \"Phim Y\\xEAu Th\\xEDch\"\n      })]\n    }), favorites.length > 0 ? favorites.map(function (item) {\n      return _jsxs(View, {\n        style: styles.movieItem,\n        children: [_jsx(TouchableWithoutFeedback, {\n          onPress: function onPress() {\n            return navigation.navigate(\"Movie\", item);\n          },\n          children: _jsxs(View, {\n            style: styles.movieContent,\n            children: [_jsx(Image, {\n              source: {\n                uri: image185(item.poster_path)\n              },\n              style: styles.movieImage\n            }), _jsx(Text, {\n              style: styles.movieTitle,\n              children: item.title\n            })]\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return removeFavorite(item.id);\n          },\n          style: styles.removeButton,\n          children: _jsx(XMarkIcon, {\n            size: 24,\n            color: \"red\"\n          })\n        })]\n      }, item.id);\n    }) : _jsx(Text, {\n      style: styles.emptyText,\n      children: \"Danh s\\xE1ch y\\xEAu th\\xEDch tr\\u1ED1ng\"\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#0f172a',\n    paddingHorizontal: 16,\n    paddingTop: 20\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 20\n  },\n  title: {\n    color: 'white',\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginLeft: 20\n  },\n  movieItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginBottom: 16,\n    backgroundColor: '#1e293b',\n    borderRadius: 10,\n    padding: 10\n  },\n  movieContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1\n  },\n  movieImage: {\n    width: 80,\n    height: 120,\n    borderRadius: 8\n  },\n  movieTitle: {\n    color: 'white',\n    fontSize: 16,\n    marginLeft: 12,\n    flexShrink: 1\n  },\n  removeButton: {\n    padding: 8\n  },\n  emptyText: {\n    color: 'white',\n    textAlign: 'center',\n    marginTop: 50,\n    fontSize: 16\n  }\n});\n_NativeWindStyleSheet.create({\n  styles: {\n    \"container\": {\n      \"width\": \"100%\"\n    },\n    \"container@0\": {\n      \"maxWidth\": 640\n    },\n    \"container@1\": {\n      \"maxWidth\": 768\n    },\n    \"container@2\": {\n      \"maxWidth\": 1024\n    },\n    \"container@3\": {\n      \"maxWidth\": 1280\n    },\n    \"container@4\": {\n      \"maxWidth\": 1536\n    },\n    \"flex\": {\n      \"display\": \"flex\"\n    }\n  },\n  atRules: {\n    \"container\": [[[\"media\", \"(min-width: 640px)\"]], [[\"media\", \"(min-width: 768px)\"]], [[\"media\", \"(min-width: 1024px)\"]], [[\"media\", \"(min-width: 1280px)\"]], [[\"media\", \"(min-width: 1536px)\"]]]\n  },\n  topics: {\n    \"container\": [\"width\"]\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","ScrollView","TouchableWithoutFeedback","TouchableOpacity","Image","Alert","StyleSheet","AsyncStorage","useNavigation","image185","Bars3CenterLeftIcon","XMarkIcon","jsx","_jsx","jsxs","_jsxs","FavoriteScreen","_useState","_useState2","_slicedToArray","favorites","setFavorites","navigation","loadFavorites","_ref","_asyncToGenerator","fav","getItem","JSON","parse","apply","arguments","unsubscribe","addListener","removeFavorite","_ref2","movieId","alert","text","style","onPress","_onPress","updatedFavorites","filter","item","id","setItem","stringify","_x","styles","container","children","header","openDrawer","size","strokeWidth","color","title","length","map","movieItem","navigate","movieContent","source","uri","poster_path","movieImage","movieTitle","removeButton","emptyText","create","flex","backgroundColor","paddingHorizontal","paddingTop","flexDirection","alignItems","marginBottom","fontSize","fontWeight","marginLeft","justifyContent","borderRadius","padding","width","height","flexShrink","textAlign","marginTop","_NativeWindStyleSheet","atRules","topics"],"sources":["D:/HK2 2025/Mobile/APP/my-app-3/my-app/screens/FavoriteScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    View,\r\n    Text,\r\n    ScrollView,\r\n    TouchableWithoutFeedback,\r\n    TouchableOpacity,\r\n    Image,\r\n    Alert,\r\n    StyleSheet\r\n} from \"react-native\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport { image185 } from \"../api/moviedb\";\r\nimport { Bars3CenterLeftIcon, XMarkIcon } from \"react-native-heroicons/outline\";\r\n\r\nexport default function FavoriteScreen() {\r\n    const [favorites, setFavorites] = useState([]);\r\n    const navigation = useNavigation();\r\n\r\n    // Load danh sách yêu thích\r\n    useEffect(() => {\r\n        const loadFavorites = async () => {\r\n            const fav = await AsyncStorage.getItem(\"favorites\");\r\n            if (fav) setFavorites(JSON.parse(fav));\r\n        };\r\n        const unsubscribe = navigation.addListener(\"focus\", loadFavorites);\r\n        return unsubscribe;\r\n    }, [navigation]);\r\n\r\n    // Hàm xóa phim khỏi danh sách yêu thích\r\n    const removeFavorite = async (movieId) => {\r\n        Alert.alert(\r\n            \"Xác nhận\",\r\n            \"Bạn có chắc muốn bỏ phim này khỏi danh sách yêu thích?\",\r\n            [\r\n                {\r\n                    text: \"Hủy\",\r\n                    style: \"cancel\"\r\n                },\r\n                {\r\n                    text: \"Đồng ý\",\r\n                    onPress: async () => {\r\n                        const updatedFavorites = favorites.filter(\r\n                            item => item.id !== movieId\r\n                        );\r\n                        await AsyncStorage.setItem(\r\n                            \"favorites\",\r\n                            JSON.stringify(updatedFavorites)\r\n                        );\r\n                        setFavorites(updatedFavorites);\r\n                    },\r\n                    style: \"destructive\"\r\n                }\r\n            ]\r\n        );\r\n    };\r\n\r\n    return (\r\n        <ScrollView style={styles.container}>\r\n            {/* Header */}\r\n            <View style={styles.header}>\r\n                <TouchableOpacity onPress={() => navigation.openDrawer()}>\r\n                    <Bars3CenterLeftIcon size={30} strokeWidth={2} color=\"white\" />\r\n                </TouchableOpacity>\r\n                <Text style={styles.title}>Phim Yêu Thích</Text>\r\n            </View>\r\n\r\n            {/* Danh sách phim */}\r\n            {favorites.length > 0 ? (\r\n                favorites.map((item) => (\r\n                    <View key={item.id} style={styles.movieItem}>\r\n                        <TouchableWithoutFeedback\r\n                            onPress={() => navigation.navigate(\"Movie\", item)}\r\n                        >\r\n                            <View style={styles.movieContent}>\r\n                                <Image\r\n                                    source={{ uri: image185(item.poster_path) }}\r\n                                    style={styles.movieImage}\r\n                                />\r\n                                <Text style={styles.movieTitle}>{item.title}</Text>\r\n                            </View>\r\n                        </TouchableWithoutFeedback>\r\n                        \r\n                        <TouchableOpacity\r\n                            onPress={() => removeFavorite(item.id)}\r\n                            style={styles.removeButton}\r\n                        >\r\n                            <XMarkIcon size={24} color=\"red\" />\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                ))\r\n            ) : (\r\n                <Text style={styles.emptyText}>Danh sách yêu thích trống</Text>\r\n            )}\r\n        </ScrollView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#0f172a',\r\n        paddingHorizontal: 16,\r\n        paddingTop: 20,\r\n    },\r\n    header: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        marginBottom: 20,\r\n    },\r\n    title: {\r\n        color: 'white',\r\n        fontSize: 24,\r\n        fontWeight: 'bold',\r\n        marginLeft: 20,\r\n    },\r\n    movieItem: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        marginBottom: 16,\r\n        backgroundColor: '#1e293b',\r\n        borderRadius: 10,\r\n        padding: 10,\r\n    },\r\n    movieContent: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        flex: 1,\r\n    },\r\n    movieImage: {\r\n        width: 80,\r\n        height: 120,\r\n        borderRadius: 8,\r\n    },\r\n    movieTitle: {\r\n        color: 'white',\r\n        fontSize: 16,\r\n        marginLeft: 12,\r\n        flexShrink: 1,\r\n    },\r\n    removeButton: {\r\n        padding: 8,\r\n    },\r\n    emptyText: {\r\n        color: 'white',\r\n        textAlign: 'center',\r\n        marginTop: 50,\r\n        fontSize: 16,\r\n    },\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}